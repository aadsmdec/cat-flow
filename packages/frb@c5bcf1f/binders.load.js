montageDefine("c5bcf1f","binders",{dependencies:["./scope","./observers"],factory:function(e,t){function n(){return Error("").stack.replace(/^.*\n.*\n/,"\n")}function r(e,t,r,i,o,a){return r(P(function(r){if(!o.isActive)try{o.isActive=!0,a&&console.log("SET",a.targetPath,"TO",r,"ON",e,"BECAUSE",a.sourcePath,n()),Array.isArray(e)&&t>>>0===t?e.set(t,r):e[t]=r}finally{o.isActive=!1}}),i)}function i(e,t){return function(n,r,i,o,a){return t(P(function(t){return null!=t?e(P(function(e){return null!=e?e.bindProperty?e.bindProperty(t,n,r,o,a):k(e,t,n,r,o,a):void 0}),i):void 0}),i)}}function o(e,t,r,i,o,a){return r(P(function(r){if(!o.isActive)try{o.isActive=!0,a&&console.log("SET FOR KEY",t,"TO",r,"ON",e,"BECAUSE",a.sourcePath,n()),e.set(t,r)}finally{o.isActive=!1}}),i)}function a(e,t){return function(n,r,i,o,a){return e(P(function(e){return e?t(P(function(t){return null!=t?I(e,t,n,r,o,a):void 0}),i):void 0}),i)}}function s(e,t){return function(r,i,o,a,s){return e(P(function(e){return e?t(P(function(t){return null!=t?r(P(function(r){if(r)(e.has||e.contains).call(e,t)||(s&&console.log("ADD",t,"TO",s.targetPath,"BECAUSE",s.sourcePath,n()),e.add(t));else for(;(e.has||e.contains).call(e,t);)s&&console.log("REMOVE",t,"FROM",s.targetPath,"BECAUSE",s.sourcePath,n()),(e.remove||e["delete"]).call(e,t)}),i):void 0}),o):void 0}),o)}}function l(e,t){return function(r,i,o,a,s){return r(P(function(r){return r?(s&&console.log("BIND",s.targetPath,"TO",s.sourcePath,n()),e(t,i,i,a,s),function(){s&&console.log("UNBIND",s.targetPath,"FROM",s.sourcePath,n())}):void 0}),o)}}function u(e,t,n){return function(r,i,o,a,s){return r(P(function(r){return r?e(P(function(e){function r(e,r,l){i.swap(l,r.length,e.map(function(e){var r=o.nest(e);return t(n,r,r,a,s)}))}if(e){var i=[],l=D(e,r,o);return function(){M(i),l()}}}),o):void 0}),i)}}function c(e,t,n,r,i,o){var a=O(r),s=x(n,a);return function(n,r,a,l,u){return n(P(function(n){if(null!=n){if(n){var r=e(i,A,a,l,u),c=t(o,A,a,l,u);return function(){r(),c()}}return e(s,a,a,l,u)}}),r)}}function h(e,t,n,r,i,o){var a=O(r),s=T(n,a);return function(n,r,a,l,u){return n(P(function(n){if(null!=n){if(n)return e(s,a,a,l,u);var r=e(i,j,a,l,u),c=t(o,j,a,l,u);return function(){r(),c()}}}),r)}}function d(e,t,n){return function(r,i,o,a,s){return e(P(function(e){return null!=e?e?t(r,i,o,a,s):n(r,i,o,a,s):void 0}),i)}}function p(e){return function(t,n,r){return e(P(function(e){return e?t(P(function(t){null!=t&&(e.splice?e.splice(0,e.length,t):e.clear&&e.add&&(e.clear(),e.add(t)))}),n):void 0}),r)}}function f(e){return function(t,n,r){return e(P(function(e){return e?t(P(function(t){null!=t&&t!==e.one()&&(e.splice?e.splice(0,e.length,t):e.clear&&e.add&&(e.clear(),e.add(t)))}),n):void 0}),r)}}function m(e,t){return function(r,i,o,a,s){return e(P(function(e){return e?r(P(function(t){function r(t,r,i){w(e)||(s&&console.log("SWAPPING",r,"FOR",t,"AT",i,"ON",s.targetPath,n()),e.swap?e.swap(i,r.length,t):e.add&&(e.remove||e["delete"])&&(t.forEach(e.add,e),r.forEach(e.remove||e["delete"],e)))}if(t!==e){if(!t)return e.clear(),void 0;if(t.addRangeChangeListener)return t.addRangeChangeListener(r),r(Array.from(t),Array.from(e),0),S(function(){t.removeRangeChangeListener(r)})}}),i):t(E.makeLiteralObserver([]),i,o,a,s)}),o)}}function v(e){return function(t,r,i,o,a){return e(P(function(e){return e?t(P(function(t){function r(t,r){if(!o.isActive)try{o.isActive=!0,void 0===t?(a&&a&&console.log("DELETED",a.targetPath,"FOR KEY",r,"ON",e,"BECAUSE",a.sourcePath,n()),Array.isArray(e)?e.splice(r,1):e["delete"](r)):(a&&a&&console.log("SET",a.targetPath,"FOR KEY",r,"TO",t,"ON",e,"BECAUSE",a.sourcePath,n()),e.set(r,t))}finally{o.isActive=!1}}return t?(e.clear(),t.forEach(r),t.addMapChangeListener(r)):(e.clear(),void 0)}),r):void 0}),i)}}function g(e){return function(t,n,r){return e(P(function(e){return e?t(P(function(t){function n(t,n,r){if(!w(e)){var i=e.length-r-n.length;e.swap(i,n.length,t.reversed())}}return t?(t.addRangeChangeListener(n),n(t,e,0),S(function(){t.removeRangeChangeListener(n)})):(e.clear(),void 0)}),n):void 0}),r)}}function _(e){return function(t,n,r,i,o){return t(P(function(t){return t?Function.noop:e(L,n,r,i,o)}),r)}}function b(e){return function(t,n,r,i,o){return r.parent?e(t,n,r.parent,i,o):void 0}}function y(e,t){return function(n,r,i,o,a){return e(P(function(e){return null!=e?t(n,r,i.nest(e),o,a):void 0}),i)}}function w(e){return e.getRangeChangeDescriptor&&e.getRangeChangeDescriptor().isActive}var C=e("./scope"),E=e("./observers"),P=E.autoCancelPrevious,S=E.once,D=E.observeRangeChange,M=E.cancelEach,O=E.makeNotObserver,T=E.makeOrObserver,x=E.makeAndObserver;E.observeValue;var L=E.makeLiteralObserver(),A=new C(!0),j=new C(!1);t.bindProperty=r;var k=r;t.makePropertyBinder=i,t.bindGet=o;var I=o;t.makeGetBinder=a,t.makeHasBinder=s,t.makeEqualityBinder=l,t.makeEveryBlockBinder=u,t.makeAndBinder=c,t.makeOrBinder=h,t.makeConditionalBinder=d,t.makeOnlyBinder=p,t.makeOneBinder=f,t.makeRangeContentBinder=m,t.makeMapContentBinder=v,t.makeReversedBinder=g,t.makeDefinedBinder=_,t.makeParentBinder=b,t.makeWithBinder=y}});