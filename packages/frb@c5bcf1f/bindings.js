function defineBindings(e,t,n){if(t)for(var r in t)defineBinding(e,r,t[r],n);return e}function defineBinding(e,t,n,r){r=r||Object.empty;var i=getBindings(e);if(owns.call(i,t))throw Error("Can't bind to already bound target, "+JSON.stringify(t));return"<-"in n||"<->"in n||"compute"in n?(n.target=e,n.parameters=n.parameters||r.parameters,n.document=n.document||r.document,n.components=n.components||r.components,n.cancel="compute"in n?compute(e,t,n):bind(e,t,n),i[t]=n,exports.count++):("get"in n||"set"in n||"writable"in n||(n.writable=!0),"configurable"in n||(n.configurable=!0),"enumerable"in n||(n.enumerable=!0),Object.defineProperty(e,t,n)),e}function getBindings(e){return bindingsForObject.has(e)||bindingsForObject.set(e,{}),bindingsForObject.get(e)}function getBinding(e,t){var n=getBindings(e);return n[t]}function cancelBindings(e){var t=getBindings(e);for(var n in t)cancelBinding(e,n)}function cancelBinding(e,t){var n=getBindings(e);if(!n[t])throw Error("Can't cancel non-existent binding to "+JSON.stringify(t));var r=n[t];if(r&&r.cancel){r.cancel(),delete n[t],exports.count--;for(var t in n)return;bindingsForObject["delete"](e)}}var Map=require("collections/map"),bind=require("./bind"),compute=require("./compute"),observe=require("./observe"),stringify=require("./stringify"),bindingsForObject=new Map,owns=Object.prototype.hasOwnProperty;exports.count=0,exports.bindings=bindingsForObject,exports.defineBindings=defineBindings,exports.defineBinding=defineBinding,exports.getBindings=getBindings,exports.getBinding=getBinding,exports.cancelBindings=cancelBindings,exports.cancelBinding=cancelBinding;