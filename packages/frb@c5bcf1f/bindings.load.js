montageDefine("c5bcf1f","bindings",{dependencies:["collections/map","./bind","./compute","./observe","./stringify"],factory:function(e,t){function n(e,t,n){if(t)for(var i in t)r(e,i,t[i],n);return e}function r(e,n,r,a){a=a||Object.empty;var o=i(e);if(d.call(o,n))throw Error("Can't bind to already bound target, "+JSON.stringify(n));return"<-"in r||"<->"in r||"compute"in r?(r.target=e,r.parameters=r.parameters||a.parameters,r.document=r.document||a.document,r.components=r.components||a.components,r.cancel="compute"in r?c(e,n,r):u(e,n,r),o[n]=r,t.count++):("get"in r||"set"in r||"writable"in r||(r.writable=!0),"configurable"in r||(r.configurable=!0),"enumerable"in r||(r.enumerable=!0),Object.defineProperty(e,n,r)),e}function i(e){return h.has(e)||h.set(e,{}),h.get(e)}function a(e,t){var n=i(e);return n[t]}function o(e){var t=i(e);for(var n in t)s(e,n)}function s(e,n){var r=i(e);if(!r[n])throw Error("Can't cancel non-existent binding to "+JSON.stringify(n));var a=r[n];if(a&&a.cancel){a.cancel(),delete r[n],t.count--;for(var n in r)return;h["delete"](e)}}var l=e("collections/map"),u=e("./bind"),c=e("./compute");e("./observe"),e("./stringify");var h=new l,d=Object.prototype.hasOwnProperty;t.count=0,t.bindings=h,t.defineBindings=n,t.defineBinding=r,t.getBindings=i,t.getBinding=a,t.cancelBindings=o,t.cancelBinding=s}});